id: couchbase-listen
namespace: io.kestra.tests

triggers:
  - id: watch
    type: io.kestra.plugin.couchbase.Trigger
    connectionString: '${couchbaseConnectionString}'
    username: kestra
    password: kestra
    fetchType: FETCHONE
    query: |
      SELECT * FROM kestra.`some-scope`.`some-collection` WHERE c_string='A collection doc'

tasks:
  - id: end
    type: io.kestra.core.tasks.debugs.Return
    format: "{{task.id}} > {{taskrun.startDate}}"
